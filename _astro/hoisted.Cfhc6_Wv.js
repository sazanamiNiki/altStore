import"./hoisted.ake4XmPN.js";import"./hoisted.mGvHz-GO.js";document.addEventListener("DOMContentLoaded",()=>{const i=[{text:"パソコン（Mac / Windows）は持ってる？",hint:"セットアップ時に使うよ",options:[{label:"Mac を持ってる",icon:"laptop_mac",value:"mac"},{label:"Windows を持ってる",icon:"laptop_windows",value:"win"},{label:"持ってない / 使いたくない",icon:"no_backpack",value:"none"}]},{text:"7日ごとの「再署名」作業はどう思う？",hint:"無料Apple IDはアプリの署名が7日で切れるよ",options:[{label:"毎週やるのは面倒！自動がいい",icon:"autorenew",value:"auto"},{label:"PCに繋ぐだけなら問題ない",icon:"cable",value:"manual"},{label:"よくわからない",icon:"help",value:"unknown"}]},{text:"入れたいアプリの数はどのくらい？",hint:"無料Apple IDだと同時3つまで（AltStore含む）",options:[{label:"1〜2個だけ（Deltaだけ等）",icon:"filter_1",value:"few"},{label:"3個以上入れたい",icon:"apps",value:"many"},{label:"まだ決まってない",icon:"question_mark",value:"undecided"}]}],r=document.querySelector("#bunchan-diagnosis img")?.getAttribute("src")?.replace("assets/img/buncho.png","")||"/",y={sidestore:{title:"SideStore",icon:"phone_iphone",headerClass:"bg-gradient-to-r from-green-500 to-emerald-500 text-white",borderClass:"border-green-300",desc:"PCは初回セットアップだけ。その後はiPhoneだけで署名更新が自動でできて、手間いらず！Wi-Fi経由でアプリの管理ができるので、PCを毎回出す必要がありません。",pros:["初回以降PCが不要","署名が自動で更新される","Wi-Fiだけで運用可能"],cons:["初回はPC+USB接続が必要","iOS 17.4以降で最も安定"],advice:"SideStoreは<strong>一番ラクな方法</strong>だよ！初回だけちょっと頑張れば、あとはiPhoneだけで完結するから快適🌟 迷ったらこれにしよう！",link:r+"articles/altstore-complete-guide",linkText:"SideStoreのセットアップ方法を見る"},altstore:{title:"AltStore",icon:"desktop_mac",headerClass:"bg-gradient-to-r from-blue-500 to-indigo-500 text-white",borderClass:"border-blue-300",desc:"PCとの接続で確実に署名管理できるスタンダードな方法。歴史が長く、情報も豊富で安定しています。毎週PCに接続するだけで簡単にアプリを管理できます。",pros:["安定性が高い","情報・解説が豊富","セットアップが簡単"],cons:["7日ごとにPC接続が必要","同時3アプリまで（無料）"],advice:"AltStoreは<strong>定番で安心</strong>の方法！毎週PCに繋ぐのが苦じゃなければ、トラブルも少なくておすすめだよ。困ったときも情報がたくさんあるから安心🔧",link:r+"articles/altstore-complete-guide",linkText:"AltStoreのセットアップ方法を見る"},altstore_win:{title:"AltStore（Windows版）",icon:"laptop_windows",headerClass:"bg-gradient-to-r from-blue-600 to-cyan-500 text-white",borderClass:"border-blue-300",desc:"WindowsパソコンからAltStoreをセットアップ。iTunesとiCloudの公式版インストールが必要ですが、手順通りやれば問題なくセットアップできます。",pros:["Windowsで利用可能","手順がシンプル","情報が豊富"],cons:["iTunes公式版が必要","7日ごとにPC接続が必要","ファイアウォール設定に注意"],advice:"WindowsでもAltStoreは使えるよ！ポイントは<strong>iTunes公式版</strong>（Apple公式サイトからDL）を使うこと。Microsoft Store版だとエラーになることがあるから注意してね⚠️",link:r+"articles/altstore-complete-guide",linkText:"Windows版セットアップガイドを見る"},sidestore_pcless:{title:"SideStore（PC最小限）",icon:"wifi",headerClass:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",borderClass:"border-purple-300",desc:"PCは初回のみ最小限の接続で、その後はiPhoneだけで完結。PC作業を最低限にしたい人に最適。SideStoreならWi-Fiベースで署名更新も全自動です。",pros:["PCは初回のみ","署名が自動更新","スマホだけで完結"],cons:["初回だけPCが必要","PC完全不要ではない"],advice:"PCを持ってるけどあまり使いたくないあなたには、<strong>SideStore</strong>がピッタリ！初回だけ頑張って、あとはiPhoneだけの生活を楽しんでね📱✨",link:r+"articles/altstore-complete-guide",linkText:"SideStoreのセットアップ方法を見る"},wait_eu:{title:"EU公式ストアを待つ",icon:"hourglass_top",headerClass:"bg-gradient-to-r from-amber-500 to-orange-500 text-white",borderClass:"border-amber-300",desc:"EUではDMA（デジタル市場法）により、AltStoreが公式マーケットプレイスとして認定済み。日本でもスマホ新法（MSCA）により2025年末以降に同様の展開が期待されています。",pros:["PCが完全に不要になる","Apple公認で安心","署名の問題がなくなる"],cons:["日本での開始時期は未定","利用できるアプリが限られる可能性"],advice:"今すぐは難しいけど、日本でも<strong>公式ストアとしてのAltStore</strong>が使えるようになる日は近いよ！それまで待つのもアリだし、先にSideStoreで試してみるのもおすすめ🌸",link:r+"articles/smartphone-law-explained",linkText:"スマホ新法の解説を読む"}};let s=0,d=[];const u=document.getElementById("diagnosis-start"),g=document.getElementById("diagnosis-questions"),m=document.getElementById("diagnosis-result"),p=document.getElementById("diagnosis-start-btn"),b=document.getElementById("diagnosis-retry-btn"),w=document.getElementById("diagnosis-progress-text"),h=document.getElementById("diagnosis-progress-pct"),C=document.getElementById("diagnosis-progress-bar"),S=document.getElementById("diagnosis-question-text"),f=document.getElementById("diagnosis-question-hint"),a=document.getElementById("diagnosis-options");if(!p||!b)return;function c(t){u.classList.add("hidden"),g.classList.add("hidden"),m.classList.add("hidden"),t.classList.remove("hidden")}function x(){const t=i[s],e=Math.round(s/i.length*100);w.textContent=`Q${s+1} / ${i.length}`,h.textContent=`${e}%`,C.style.width=`${e}%`,S.textContent=t.text,f.textContent=t.hint,a.innerHTML="",t.options.forEach(o=>{const n=document.createElement("button");n.className="w-full flex items-center gap-3 p-4 bg-white border-2 border-gray-200 rounded-xl hover:border-pink-300 hover:bg-pink-50 transition-all text-left",n.innerHTML=`
          <span class="material-symbols-outlined text-gray-400 text-xl">${o.icon}</span>
          <span class="text-sm font-medium text-gray-800">${o.label}</span>
        `,n.addEventListener("click",()=>E(o.value)),a.appendChild(n)})}function E(t){const e=a.querySelectorAll("button");e.forEach(n=>{n.disabled=!0,n.classList.add("opacity-50")});const o=Array.from(e).find(n=>n.querySelector("span:last-child")?.textContent===i[s].options.find(l=>l.value===t)?.label);o&&(o.classList.remove("opacity-50","border-gray-200"),o.classList.add("border-pink-400","bg-pink-50")),d.push(t),setTimeout(()=>{s++,s<i.length?x():v()},400)}function k(){const[t,e,o]=d;return t==="none"?"wait_eu":e==="auto"||e==="unknown"?t==="win"?"sidestore_pcless":"sidestore":e==="manual"?t==="win"?"altstore_win":"altstore":"sidestore"}function v(){const t=k(),e=y[t];C.style.width="100%",h.textContent="100%",document.getElementById("diagnosis-result-card").className=`mb-5 rounded-xl border-2 overflow-hidden ${e.borderClass}`,document.getElementById("diagnosis-result-header").className=`px-5 py-4 ${e.headerClass}`,document.getElementById("diagnosis-result-icon").textContent=e.icon,document.getElementById("diagnosis-result-title").textContent=e.title,document.getElementById("diagnosis-result-desc").textContent=e.desc;const o=document.getElementById("diagnosis-result-pros");o.innerHTML=e.pros.map(l=>`<li>・${l}</li>`).join("");const n=document.getElementById("diagnosis-result-cons");n.innerHTML=e.cons.map(l=>`<li>・${l}</li>`).join(""),document.getElementById("diagnosis-result-advice").innerHTML=e.advice,document.getElementById("diagnosis-result-link").href=e.link,document.getElementById("diagnosis-result-link-text").textContent=e.linkText,c(m)}p.addEventListener("click",()=>{s=0,d=[],c(g),x()}),b.addEventListener("click",()=>{s=0,d=[],c(u)})});
