import ArticleLayout from '../../layouts/ArticleLayout.astro';
import Accordion from '../../components/Accordion.astro';
import AccordionGroup from '../../components/AccordionGroup.astro';
import StepList from '../../components/StepList.astro';
import Step from '../../components/Step.astro';
import CardGrid from '../../components/CardGrid.astro';
import Card from '../../components/Card.astro';
import InfoBox from '../../components/InfoBox.astro';
import Section from '../../components/Section.astro';
import RelatedArticles from '../../components/RelatedArticles.astro';

export const title = "PCなしでも更新可能？AltStoreの仕組みと導入の基本";
export const h1 = "AltStoreの仕組みと導入";
export const description = "AltStoreの7日間署名問題、AltServerの役割、Wi-Fi経由での自動更新の仕組みを詳しく解説。初心者でもわかる完全ガイド。";

<ArticleLayout title={title} h1={h1} description={description} date="2026-02-12" icon="apps" iconColor="text-blue-500">

<Section intro title="AltStoreとは何か" icon="help_outline">
  <div class="flex items-center gap-2 p-3 bg-blue-50 rounded-lg border border-blue-200 mb-4">
    <span class="material-symbols-outlined text-blue-500">apps</span>
    <span class="font-bold text-blue-700 text-sm">App Storeの代替。初心者に最もやさしいサイドローディングツールです。</span>
  </div>
  <InfoBox type="indigo" icon="auto_stories" title="この記事の位置づけ（仕組み・理論編）">
    この記事はAltStoreの<strong>仕組み・理論編</strong>です。
    実際の手順は「<a href={`${import.meta.env.BASE_URL}articles/install-app-step-by-step`} class="font-bold underline">インストール方法</a>」、全体像は「<a href={`${import.meta.env.BASE_URL}articles/altstore-complete-guide`} class="font-bold underline">完全ガイド</a>」をご覧ください。
  </InfoBox>
</Section>

<Section title="AltStoreの仕組み：なぜ7日で署名が切れるのか" icon="settings" iconColor="text-blue-600">
  <AccordionGroup>
    <Accordion title="App Storeとの配信の違い">
      <div class="grid grid-cols-2 gap-2 mb-4">
        <div class="p-3 bg-green-50 rounded-lg border border-green-200">
          <div class="font-semibold text-green-700 text-xs mb-1">App Store</div>
          <div class="text-gray-600 text-xs">Appleが永続的に署名を提供</div>
        </div>
        <div class="p-3 bg-orange-50 rounded-lg border border-orange-200">
          <div class="font-semibold text-orange-700 text-xs mb-1">AltStore</div>
          <div class="text-gray-600 text-xs">無料Apple IDは7日間のみ有効</div>
        </div>
      </div>
    </Accordion>
    <Accordion title="署名（Signature）とは何か">
      <div class="flex items-center gap-2 p-3 bg-blue-50 rounded-lg border border-blue-200 mb-3">
        <span class="material-symbols-outlined text-blue-500">info</span>
        <span class="font-bold text-blue-700 text-sm">「このアプリは安全」とiOSに伝えるデジタルスタンプです。</span>
      </div>
      <p class="text-sm text-gray-600">7日ごとに再署名することで、iOSに「まだ信頼できる」と認識させ直します。</p>
    </Accordion>
    <Accordion title="有料開発者アカウントなら制限なし">
      <div class="flex items-center gap-2 p-3 bg-purple-50 rounded-lg border border-purple-200">
        <span class="material-symbols-outlined text-purple-500">workspace_premium</span>
        <span class="font-bold text-purple-700 text-sm">Apple Developer Program（年額99ドル）で7日制限が不要になります。</span>
      </div>
    </Accordion>
  </AccordionGroup>
</Section>

<Section title="AltServerの役割：PCからWi-Fiで自動更新" icon="dns" iconColor="text-blue-600">
  <AccordionGroup>
    <Accordion title="AltServer とは">
      <div class="grid grid-cols-2 gap-2 mb-4">
        <div class="p-3 bg-blue-50 rounded-lg border border-blue-200">
          <div class="font-semibold text-blue-700 text-xs mb-1">AltStore</div>
          <div class="text-gray-600 text-xs">iPhone/iPad上のアプリストア</div>
        </div>
        <div class="p-3 bg-gray-50 rounded-lg border border-gray-200">
          <div class="font-semibold text-gray-700 text-xs mb-1">AltServer</div>
          <div class="text-gray-600 text-xs">PC/Mac上の署名更新ツール</div>
        </div>
      </div>
    </Accordion>
    <Accordion title="Wi-Fi自動更新の仕組み">
      <ul class="space-y-2 text-sm text-gray-700 mb-3">
        <li class="flex items-start gap-2">
          <span class="material-symbols-outlined text-blue-500 text-base mt-0.5">looks_one</span>
          同じWi-FiネットワークでiPhone/iPadを認識
        </li>
        <li class="flex items-start gap-2">
          <span class="material-symbols-outlined text-blue-500 text-base mt-0.5">looks_two</span>
          毎日、自動で署名の有効期限をチェック
        </li>
        <li class="flex items-start gap-2">
          <span class="material-symbols-outlined text-blue-500 text-base mt-0.5">looks_3</span>
          期限が近いアプリを検出し、自動で再署名
        </li>
        <li class="flex items-start gap-2">
          <span class="material-symbols-outlined text-blue-500 text-base mt-0.5">looks_4</span>
          iPhone/iPadは気づかないうちに最新署名を受け取る
        </li>
      </ul>
    </Accordion>
    <Accordion title="AltServer を常に起動しておくメリット">
      <ul class="space-y-2 text-sm text-gray-700">
        <li class="flex items-center gap-2">
          <span class="material-symbols-outlined text-green-500 text-base">check_circle</span>
          手動更新が不要（7日ごとの操作ゼロ）
        </li>
        <li class="flex items-center gap-2">
          <span class="material-symbols-outlined text-green-500 text-base">check_circle</span>
          常に有効な署名を維持
        </li>
        <li class="flex items-center gap-2">
          <span class="material-symbols-outlined text-green-500 text-base">check_circle</span>
          PC起動時にAltServerを自動起動できる
        </li>
      </ul>
      <div class="my-8 p-6 bg-gray-50 border border-gray-200 rounded-xl">
        <div class="flex flex-col sm:flex-row gap-6 items-center">
          <div class="flex-1">
            <h4 class="font-bold text-lg text-gray-900 mb-2">
              <span class="material-symbols-outlined align-middle text-blue-600 mr-1">computer</span>
              常時起動用のPCがない場合は？
            </h4>
            <p class="text-sm text-gray-600 mb-3">
              AltServerを24時間動かすなら、省電力なミニPCが最適です。電気代も月数百円で済み、メインPCを占有しません。
            </p>
            <a href="https://amzn.to/3ZNfzzo" target="_blank" rel="sponsored noopener" class="inline-block bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-6 rounded-full transition-colors text-sm shadow-md" data-affiliate-type="amazon" data-product-category="mini-pc" onclick="if(typeof trackAffiliateClick === 'function') trackAffiliateClick('amazon', 'mini-pc', 'n100-pc');">
              AmazonでミニPCを見る
            </a>
          </div>
        </div>
      </div>
    </Accordion>
    <Accordion title="自動更新と公証ステータスについて">
      <div class="grid grid-cols-2 gap-2 mb-4">
        <div class="p-3 bg-green-50 rounded-lg border border-green-200">
          <div class="font-semibold text-green-700 text-xs mb-1">初回インストール時</div>
          <div class="text-gray-600 text-xs">公証済みの状態</div>
        </div>
        <div class="p-3 bg-orange-50 rounded-lg border border-orange-200">
          <div class="font-semibold text-orange-700 text-xs mb-1">7日後の自動更新以降</div>
          <div class="text-gray-600 text-xs">公証なし（ただし基本的な安全性は維持）</div>
        </div>
      </div>
      <InfoBox type="info" title="公証を継続的に維持したい場合">
        App Store経由のアプリか、有料開発者アカウント（年額99ドル）が必要です。
        詳しくは「<a href={`${import.meta.env.BASE_URL}articles/apple-notarization`} class="font-bold underline">Appleの公証とは何か</a>」をご覧ください。
      </InfoBox>
    </Accordion>
  </AccordionGroup>
</Section>

<Section title="実際の導入手順（概要）" icon="integration_instructions" iconColor="text-blue-600">
  <div class="mt-4 gap-4">
    <InfoBox type="warning" icon="cable" title="接続トラブルの9割はケーブルが原因">
      100均の「充電専用」ケーブルでは AltServer は認識しません。必ず<strong>データ転送対応のケーブル</strong>を使ってください。
    </InfoBox>
    <div class="text-right">
      <a href="https://amzn.to/3Zf1cUm" target="_blank" rel="sponsored noopener" class="text-blue-600 font-bold text-sm hover:underline flex items-center justify-end gap-1" data-affiliate-type="amazon" data-product-category="cable" onclick="if(typeof trackAffiliateClick === 'function') trackAffiliateClick('amazon', 'cable', 'lightning-cable');">
        おすすめの高耐久ケーブルを見る <span class="material-symbols-outlined text-sm">open_in_new</span>
      </a>
    </div>
  </div>
</Section>

<Section title="PCがない場合はどうする？" icon="help_center" iconColor="text-blue-600">
  <AccordionGroup>
    <Accordion title="手動更新なら可能">
      <div class="flex items-center gap-2 p-3 bg-green-50 rounded-lg border border-green-200 mb-3">
        <span class="material-symbols-outlined text-green-500">check_circle</span>
        <span class="font-bold text-green-700 text-sm">PCなしでも使えます。7日ごとに手動で更新するだけです。</span>
      </div>
      <p class="text-sm text-gray-600">AltStoreアプリを開いて更新ボタンをタップ。数分で完了します。</p>
    </Accordion>
    <Accordion title="代替手段：友人のPCを借りる">
      <div class="flex items-center gap-2 p-3 bg-blue-50 rounded-lg border border-blue-200 mb-3">
        <span class="material-symbols-outlined text-blue-500">people</span>
        <span class="font-bold text-blue-700 text-sm">家族・友人のPCでも代用できます（同じWi-Fi接続が必要）。</span>
      </div>
      <InfoBox type="info" title="PC不要で運用したい場合はSideStoreも検討">
        完全にPC不要で運用したい場合は、SideStoreへの切り替えも選択肢のひとつです。
        詳しくは「<a href={`${import.meta.env.BASE_URL}articles/sidestore-guide`} class="font-bold underline">SideStore 完全ガイド</a>」をご覧ください。
      </InfoBox>
    </Accordion>
  </AccordionGroup>
</Section>

<Section title="よくある質問と対策" icon="help" iconColor="text-blue-600">
  <AccordionGroup>
    <Accordion title="署名が切れたアプリはどうなる？">
      <div class="flex items-center gap-2 p-3 bg-orange-50 rounded-lg border border-orange-200 mb-3">
        <span class="material-symbols-outlined text-orange-500">warning</span>
        <span class="font-bold text-orange-700 text-sm">起動しなくなります（削除ではありません）。</span>
      </div>
      <p class="text-sm text-gray-600">AltStoreアプリを開いて更新ボタン（↻）をタップ → すぐに使えるようになります。</p>
    </Accordion>
    <Accordion title="Wi-Fi自動更新がうまくいかない場合は？">
      <ul class="space-y-2 text-sm text-gray-700">
        <li class="flex items-start gap-2">
          <span class="material-symbols-outlined text-blue-400 text-base mt-0.5">check_box_outline_blank</span>
          PCとiPhoneが同じWi-Fiに接続しているか
        </li>
        <li class="flex items-start gap-2">
          <span class="material-symbols-outlined text-blue-400 text-base mt-0.5">check_box_outline_blank</span>
          ファイアウォールがAltServerの通信をブロックしていないか
        </li>
        <li class="flex items-start gap-2">
          <span class="material-symbols-outlined text-blue-400 text-base mt-0.5">check_box_outline_blank</span>
          解決しない場合はUSB接続で手動更新
        </li>
      </ul>
    </Accordion>
    <Accordion title="複数のiPhoneで使える？">
      <div class="flex items-center gap-2 p-3 bg-green-50 rounded-lg border border-green-200 mb-3">
        <span class="material-symbols-outlined text-green-500">check_circle</span>
        <span class="font-bold text-green-700 text-sm">可能です。同じApple IDで複数デバイス対応。</span>
      </div>
      <InfoBox type="warning" title="無料Apple IDのApp ID制限">
        同時に署名できるアプリ数に上限があります。多くのアプリを使いたい場合は有料開発者アカウントを検討してください。
      </InfoBox>
    </Accordion>
  </AccordionGroup>
</Section>

<Section title="まとめ" icon="done_all" iconColor="text-green-600">
  <div class="space-y-2 mb-6">
    <div class="flex items-center gap-3 p-3 bg-white rounded-lg border border-gray-200">
      <span class="material-symbols-outlined text-orange-500">schedule</span>
      <span class="text-gray-800 font-medium text-sm">無料Apple IDは7日ごとに再署名が必要</span>
    </div>
    <div class="flex items-center gap-3 p-3 bg-white rounded-lg border border-gray-200">
      <span class="material-symbols-outlined text-blue-500">dns</span>
      <span class="text-gray-800 font-medium text-sm">AltServerをバックグラウンド起動すればWi-Fi自動更新が実現</span>
    </div>
    <div class="flex items-center gap-3 p-3 bg-white rounded-lg border border-gray-200">
      <span class="material-symbols-outlined text-green-500">smartphone</span>
      <span class="text-gray-800 font-medium text-sm">PCなしでも手動更新で運用可能（SideStoreなら完全不要）</span>
    </div>
    <div class="flex items-center gap-3 p-3 bg-white rounded-lg border border-gray-200">
      <span class="material-symbols-outlined text-purple-500">workspace_premium</span>
      <span class="text-gray-800 font-medium text-sm">有料Developer Program（年額99ドル）で7日制限なし</span>
    </div>
  </div>
</Section>

<RelatedArticles articles={[
  {
    href: '/articles/install-app-step-by-step',
    icon: 'install_desktop',
    iconColor: 'text-green-600',
    title: 'アプリをインストールする方法',
    desc: '具体的なセットアップ手順に特化した実践編。AltServerの準備から実際のアプリインストールまで。',
  },
  {
    href: '/articles/altstore-complete-guide',
    icon: 'apps',
    iconColor: 'text-purple-600',
    title: 'AltStore完全ガイド',
    desc: '基礎知識からトラブル対応まで全てを網羅した統合ガイド編。',
  },
  {
    href: '/articles/top3-apps-2026',
    icon: 'star',
    iconColor: 'text-yellow-500',
    title: '入れるべきアプリ【神アプリ3選】',
    desc: 'Delta、UTM SE、SideStore の3大アプリを徹底解説。',
  },
]} />

</ArticleLayout>
