import ArticleLayout from '../../layouts/ArticleLayout.astro';
import Accordion from '../../components/Accordion.astro';
import AccordionGroup from '../../components/AccordionGroup.astro';
import CardGrid from '../../components/CardGrid.astro';
import Card from '../../components/Card.astro';
import InfoBox from '../../components/InfoBox.astro';
import Section from '../../components/Section.astro';
import RelatedArticles from '../../components/RelatedArticles.astro';

export const title = "iPhoneのサイドローディングとは？メリットとリスクを完全解説";
export const h1 = "サイドローディングとは";
export const description = "サイドローディングの定義、App Storeとの違い、メリット・リスク、欧州法改正の背景を初心者向けに解説";

<ArticleLayout title={title} h1={h1} description={description} date="2026-02-18" icon="smartphone" iconColor="text-blue-500">

<Section intro title="サイドローディングって何？" icon="help_outline">
  <p class="text-gray-700 mb-4">
    <mark class="bg-yellow-100 px-1 rounded"><strong>App Storeには出ていない</strong></mark>アプリをインストールする方法です。
  </p>
</Section>

<Section title="サイドローディングの定義" icon="info">
  <AccordionGroup>
  <Accordion title="App Storeとの最大の違い">

    <div class="grid sm:grid-cols-2 gap-4 text-sm">

      <div class="bg-gray-50 rounded-lg p-4">
        <h4 class="font-semibold mb-2">App Store</h4>
        <ul class="space-y-1 text-gray-600">
          <li>・Appleが事前審査</li>
          <li>・安全性が高い</li>
          <li>・誰でも簡単にインストール</li>
        </ul>
      </div>

      <div class="bg-blue-50 rounded-lg p-4 border border-blue-200">
        <h4 class="font-semibold mb-2 text-blue-700">サイドローディング</h4>
        <ul class="space-y-1 text-gray-700">
          <li>・審査なしで直接インストール</li>
          <li>・エミュレータや特殊アプリが使える</li>
          <li>・AltStoreなどが必要</li>
        </ul>
      </div>

    </div>

  </Accordion>
  <Accordion title="サイドローディングが注目される背景">

    <ul class="space-y-3 text-sm">

      <li class="flex gap-3">
        <span class="font-semibold text-gray-900 w-16 shrink-0">以前</span>
        <span class="text-gray-600">一般ユーザーはサイドローディング不可（App Storeのみ）</span>
      </li>

      <li class="flex gap-3">
        <span class="font-semibold text-blue-600 w-16 shrink-0">2024</span>
        <span class="text-gray-700">EU「DMA」によりAppleに外部ストア開放を義務化</span>
      </li>

      <li class="flex gap-3">
        <span class="font-semibold text-blue-600 w-16 shrink-0">2026</span>
        <span class="text-gray-700">日本「MSCA」施行予定 → AltStore PALなどが利用可能に</span>
      </li>

    </ul>

    <p class="text-xs text-gray-500 mt-4">
      これらの法改正により、App Store以外からのアプリ配信が現実的になりました。
    </p>

  </Accordion>

  </AccordionGroup>
</Section>

<Section title="サイドローディングのメリット" icon="thumb_up" iconColor="text-green-600">
  <CardGrid>
    <Card icon="apps" iconColor="text-green-500" title="アプリの選択肢が広がる">
      <p class="text-gray-600 text-sm mt-1">
        App Storeにないアプリも利用可能
      </p>
    </Card>
    <Card icon="handshake" iconColor="text-green-500" title="開発者から直接入手">
      <p class="text-gray-600 text-sm mt-1">
        手数料なし・個人開発アプリも使える
      </p>
    </Card>
    <Card icon="science" iconColor="text-green-500" title="ベータ版を試せる" fullWidth={true}>
      <p class="text-gray-600 text-sm mt-1">
        新機能をいち早く体験可能
      </p>
    </Card>
  </CardGrid>
</Section>
<Section title="サイドローディングのリスク" icon="warning" iconColor="text-red-600">
  <AccordionGroup>
    <Accordion title="ソース選びが重要">
      <p class="text-sm text-gray-700 mb-3">
        サイドローディングにはAppleの審査がありません。
        そのため、アプリの安全性は<strong>自分で判断する必要があります</strong>。
      </p>

      <ul class="text-sm text-gray-700 space-y-1 mb-4 mt-4">
        <li>・出どころ不明なアプリは危険</li>
        <li>・悪意あるコードが含まれる可能性あり</li>
        <li>・公式／オープンソースのみ利用推奨</li>
      </ul>

      <div class="bg-red-50 border border-red-200 text-red-700 text-xs p-3 rounded-lg">
        信頼できるリポジトリ以外からはインストールしないでください。
      </div>

    </Accordion>
    <Accordion title="7日ごとに署名が切れる">
      <ul class="text-sm text-gray-700 space-y-2">
        <li>・無料Apple IDは7日で失効</li>
        <li>・再署名が必要</li>
        <li>・AltStoreならWi-Fiで自動更新可能</li>
      </ul>
    </Accordion>
    <Accordion title="開発者モードの有効化が必要">
      <ul class="text-sm text-gray-700 space-y-2">
        <li>・設定 → 開発者モードをON</li>
        <li>・セキュリティがやや低下</li>
        <li>・理解した上で利用することが大切</li>
      </ul>
    </Accordion>
  </AccordionGroup>
</Section>

<Section title="ユーザーの自由と責任" icon="balance">
  <div class="bg-slate-50 rounded-2xl p-6 text-center space-y-3">
    <p class="text-lg font-bold text-gray-900">
      サイドローディング = 自由 × 自己責任
    </p>
    <p class="text-sm text-gray-600">
      好きなアプリを自由に選べる代わりに、安全性は自分で判断する必要があります。
    </p>
  </div>
</Section>

<Section title="サイドローディングを始めるには" icon="rocket_launch" iconColor="text-blue-600">
  <p class="text-gray-700 mb-4">
    サイドローディングを始めるのに必要なものは、<strong>iPhone、PC/Mac、Apple ID、USBケーブル</strong>の4つだけです。
  </p>
  <div class="my-4 p-5 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl">
    <div class="flex flex-col sm:flex-row gap-4 items-center">
      <div class="flex-1">
        <h4 class="font-bold text-gray-900 mb-1">
          <span class="material-symbols-outlined align-middle text-blue-600 mr-1">cable</span>
          USBケーブルは「データ転送対応」が必須
        </h4>
        <p class="text-sm text-gray-600 mb-3">
          100均の充電専用ケーブルでは認識しません。初回セットアップにはデータ転送対応のケーブルが必要です。
        </p>
        <a href="https://amzn.to/3Zf1cUm" target="_blank" rel="sponsored noopener" class="inline-block bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-5 rounded-full transition-colors text-sm shadow-md" data-affiliate-type="amazon" data-product-category="cable" onclick="if(typeof trackAffiliateClick === 'function') trackAffiliateClick('amazon', 'cable', 'lightning-cable');">
          おすすめのケーブルを見る
        </a>
      </div>
    </div>
  </div>
  <InfoBox type="info" icon="arrow_forward" title="次のステップ">
    準備ができたら「<a href={`${import.meta.env.BASE_URL}articles/how-to-use-altstore`} class="font-bold underline">AltStoreの使い方</a>」で実際のインストール手順をご覧ください。
  </InfoBox>
</Section>

<Section title="まとめ" icon="done_all" iconColor="text-green-600">
  <ul class="space-y-3 text-sm">
    <li class="flex gap-2">
      <span class="text-green-600">✓</span>
      App Storeを使わずにアプリを入れる方法
    </li>
    <li class="flex gap-2">
      <span class="text-green-600">✓</span>
      法改正により一般ユーザーにも解放
    </li>
    <li class="flex gap-2">
      <span class="text-green-600">✓</span>
      メリット：自由度が高い
    </li>
    <li class="flex gap-2">
      <span class="text-red-500">⚠</span>
      リスク：<mark class="bg-yellow-100 px-1 rounded"><strong>安全性は自己責任</strong></mark>
    </li>
  </ul>
</Section>

<RelatedArticles articles={[
  {
    href: '/articles/how-to-use-altstore',
    icon: 'install_mobile',
    title: 'まずは導入！AltStoreの使い方',
    desc: 'サイドローディングを始めるための最初のステップ。PC/Mac での初期設定から Wi-Fi 自動更新まで完全ガイド。',
  },
  {
    href: '/articles/safety-guide',
    icon: 'security',
    title: 'セキュリティは大丈夫？安全ガイド',
    desc: '野良アプリから身を守る3つの鉄則。オープンソースの透明性と権限許可の注意点を解説。',
  },
]} />

</ArticleLayout>
