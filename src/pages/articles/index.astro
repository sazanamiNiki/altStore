---
import BaseLayout from '../../layouts/BaseLayout.astro';
const base = import.meta.env.BASE_URL;

const categories = [
  {
    label: '基礎知識',
    articles: [
      { href: '/articles/what-is-sideloading', title: 'サイドローディングとは', desc: 'App Storeに頼らない新しいアプリの入手方法', tag: '基礎', tagColor: 'text-blue-600 bg-blue-50' },
      { href: '/articles/how-to-use-altstore', title: 'AltStoreの使い方 ［仕組み編］', desc: '7日署名の仕組みやAltServerの役割を詳しく解説', tag: '基礎', tagColor: 'text-blue-600 bg-blue-50' },
      { href: '/articles/install-app-step-by-step', title: 'アプリをインストールする方法 ［実践編］', desc: 'セットアップ手順に特化したステップバイステップガイド', tag: '基礎', tagColor: 'text-blue-600 bg-blue-50' },
      { href: '/articles/altstore-complete-guide', title: 'AltStore完全ガイド ［統合版］', desc: '基礎知識からトラブル対応まで全てを1ページにまとめた包括的ガイド', tag: '基礎', tagColor: 'text-blue-600 bg-blue-50' },
      { href: '/articles/safety-guide', title: '安全ガイド', desc: 'ウイルスから身を守る3つの鉄則', tag: '基礎', tagColor: 'text-blue-600 bg-blue-50' },
      { href: '/articles/emulator-legal', title: 'エミュレータと著作権', desc: '日本国内での正しい遊び方', tag: '基礎', tagColor: 'text-blue-600 bg-blue-50' },
      { href: '/articles/utm-windows-on-ios', title: 'UTMで仮想化を活用', desc: 'iPadでWindowsやLinuxを動かす', tag: '基礎', tagColor: 'text-blue-600 bg-blue-50' },
    ],
  },
  {
    label: '法律と安全性',
    articles: [
      { href: '/articles/smartphone-law-explained', title: 'スマホ新法解説', desc: 'iPhoneのアプリ配布が変わる理由', tag: '法律', tagColor: 'text-blue-600 bg-blue-50' },
      { href: '/articles/apple-notarization', title: 'Apple公証とは', desc: 'サイドローディングが安全な仕組み', tag: '安全性', tagColor: 'text-green-600 bg-green-50' },
      { href: '/articles/our-policy', title: '運営方針', desc: '当サイトが「公証済み」にこだわる理由', tag: '方針', tagColor: 'text-purple-600 bg-purple-50' },
    ],
  },
  {
    label: '具体的な利益',
    articles: [
      { href: '/articles/commission-cut', title: '手数料30%カット', desc: 'アプリ価格は安くなるのか？', tag: '経済', tagColor: 'text-orange-600 bg-orange-50' },
      { href: '/articles/payment-freedom', title: '決済の自由化', desc: 'App Store決済とWeb決済の使い分け', tag: '経済', tagColor: 'text-orange-600 bg-orange-50' },
      { href: '/articles/direct-support', title: '直接支援', desc: 'お気に入りアプリの継続を支えるパトロン文化', tag: '支援', tagColor: 'text-pink-600 bg-pink-50' },
    ],
  },
  {
    label: 'アプリ紹介',
    articles: [
      { href: '/articles/delta-utm-guide', title: 'Delta / UTM SE', desc: 'iPhoneでレトロゲームやPCを動かす', tag: 'ガイド', tagColor: 'text-indigo-600 bg-indigo-50' },
      { href: '/articles/sidestore-guide', title: 'SideStore', desc: 'PC不要でアプリ管理する日本語ガイド', tag: 'ガイド', tagColor: 'text-indigo-600 bg-indigo-50' },
      { href: '/articles/top3-apps-2026', title: '神アプリ3選', desc: '2026最新の厳選アプリTOP3', tag: '紹介', tagColor: 'text-indigo-600 bg-indigo-50' },
    ],
  },
  {
    label: 'よくある質問',
    articles: [
      { href: '/articles/faq', title: 'サイドローディングFAQ', desc: '不安とエラーへの回答集', tag: 'FAQ', tagColor: 'text-blue-600 bg-blue-50' },
    ],
  },
];
---

<BaseLayout title="記事一覧" description="サイドローディング、Apple公証、AltStoreに関する詳細な記事。">
  <main class="max-w-6xl mx-auto px-4 py-12">
    <div class="mb-8 pb-8 border-b-2 border-blue-200 relative overflow-hidden bg-gradient-to-br from-blue-50 via-white to-indigo-50 p-8 rounded-xl">
      <h1 class="text-4xl font-bold mb-3 text-slate-800 flex items-center gap-3">
        <span class="material-symbols-outlined text-blue-500 text-[2.5rem]">library_books</span>
        記事一覧
      </h1>
      <p class="text-gray-600 text-lg">サイドローディングやアプリについての詳細解説</p>
    </div>

    {categories.map(category => (
      <section class="mb-16">
        <h2 class="text-2xl font-bold text-gray-900 mb-8 pb-3 border-b border-gray-200">{category.label}</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {category.articles.map(article => (
            <a href={`${base}${article.href.slice(1)}`} class="group block h-full p-6 bg-white rounded-2xl border border-gray-100 transition-all duration-200 hover:shadow-lg hover:-translate-y-1">
              <h3 class="font-bold text-lg text-gray-900 mb-2 group-hover:text-blue-600 transition-colors">{article.title}</h3>
              <p class="text-sm text-gray-600 mb-4 line-clamp-2">{article.desc}</p>
              <span class={`inline-block px-3 py-1 text-xs font-medium rounded-full ${article.tagColor}`}>{article.tag}</span>
            </a>
          ))}
        </div>
      </section>
    ))}
  </main>
</BaseLayout>
